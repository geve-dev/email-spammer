<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Envie emails em massa para seus clientes">
    <meta name="keywords" content="email marketing, envio de emails, marketing digital">
    <meta name="robots" content="index, follow">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="assets/style/styles.css">
    <link rel="icon" type="image/png" href="assets/imgs/email-icon-removebg-preview.png">
    <title>Mass Email Sender</title>

</head>

<body>

    <main>
        <section id="contact" class="contact">
            <div class="glitch-form-wrapper">
                <form class="glitch-card" id="contact-form" method="POST" action="/send-email">
                    <div class="card-header">
                        <div class="card-title">
                            <h2>Mass Email <span>Sender</span></h2>
                        </div>
                    </div>

                    <!-- Progress Bar -->
                    <div class="progress-container">
                        <div class="progress-bar" id="progress-bar"></div>
                        <div class="step-indicators">
                            <span class="step-dot active" data-step="1">1</span>
                            <span class="step-dot" data-step="2">2</span>
                            <span class="step-dot" data-step="3">3</span>
                        </div>
                    </div>

                    <div class="card-body">
                        <!-- Step 1: Identity -->
                        <div class="form-step active" data-step="1">
                            <h3 class="step-title">Identidade</h3>
                            <div class="form-group">
                                <input type="text" id="senderName" name="senderName" required="" placeholder="" />
                                <label for="senderName" class="form-label" data-text="NOME REMETENTE">NOME
                                    REMETENTE</label>
                            </div>
                            <div class="form-group">
                                <input type="email" id="senderEmail" name="senderEmail" placeholder="" />
                                <label for="senderEmail" class="form-label" data-text="EMAIL REMETENTE (OPCIONAL)">EMAIL
                                    REMETENTE (OPCIONAL)</label>
                            </div>
                            <div class="form-group checkbox-group"
                                style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;">
                                <input type="checkbox" id="showSenderEmail" name="showSenderEmail" style="width: auto;">
                                <label for="showSenderEmail"
                                    style="position: static; color: var(--text-color); font-size: 0.9rem; pointer-events: auto;">Usar
                                    este email como resposta (Reply-To)?</label>
                            </div>
                        </div>

                        <!-- Step 2: Recipients -->
                        <div class="form-step" data-step="2">
                            <h3 class="step-title">Destinatários</h3>
                            <p class="step-desc">Insira os e-mails um por um.</p>
                            <div class="form-group" style="display: flex; gap: 10px; align-items: flex-end;">
                                <div style="flex-grow: 1; position: relative;">
                                    <input type="email" id="emailInput" placeholder="" />
                                    <label for="emailInput" class="form-label" data-text="ADICIONAR EMAIL">ADICIONAR
                                        EMAIL</label>
                                </div>
                                <button type="button" id="addEmailBtn" class="nav-btn secondary"
                                    style="padding: 0.75em 1.2em; border-width: 1px;">
                                    <i class="fa-solid fa-plus"></i>
                                </button>
                            </div>

                            <!-- List Container -->
                            <div id="emailListContainer" style="
                                    margin-top: 1rem; 
                                    max-height: 200px; 
                                    overflow-y: auto; 
                                    padding-right: 5px;
                                    /* scrollbar styles for webkit */
                                    scrollbar-width: thin;
                                    scrollbar-color: var(--brand-glow) rgba(255,255,255,0.1);
                                ">
                                <!-- Dynamic Email Items will go here -->
                            </div>

                            <!-- Hidden textarea to store comma-separated emails for form submission logic -->
                            <textarea id="recipients" name="recipients" required="" hidden></textarea>
                        </div>

                        <!-- Step 3: Content -->
                        <div class="form-step" data-step="3">
                            <h3 class="step-title">Conteúdo</h3>
                            <div class="form-group">
                                <input type="text" id="subject" name="subject" required="" placeholder="" />
                                <label for="subject" class="form-label" data-text="ASSUNTO">ASSUNTO</label>
                            </div>
                            <div class="form-group">
                                <textarea id="message" name="message" required="" placeholder="" rows="6"></textarea>
                                <label for="message" class="form-label" data-text="MENSAGEM">MENSAGEM</label>
                            </div>
                        </div>

                        <!-- Navigation Buttons -->
                        <div class="form-navigation">
                            <button type="button" id="prevBtn" class="nav-btn secondary" hidden>
                                <i class="fa-solid fa-arrow-left"></i> Voltar
                            </button>
                            <button type="button" id="nextBtn" class="nav-btn primary">
                                Próximo <i class="fa-solid fa-arrow-right"></i>
                            </button>
                            <button data-text="ENVIAR EMAILS" type="submit" id="submitBtn" class="submit-btn" hidden>
                                <span class="btn-text">ENVIAR EMAIL <i class="fa-solid fa-paper-plane"></i></span>
                            </button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="form-status" id="form-status" aria-live="polite" role="status" hidden>
                <div class="status-icon"><i class="fa-solid fa-circle-notch fa-spin"></i></div>
                <div class="status-title">Status</div>
                <div class="status-message">Aguardando envio...</div>
                <div class="status-progress"></div>
            </div>
        </section>

    </main>


    <script src="assets/src/script.js"></script>
</body>

</html>